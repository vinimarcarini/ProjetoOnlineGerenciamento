(function(n){function r(){this.debug=!0,this._curInst=null,this._disabledInputs=[],this._timepickerShowing=!1,this._inDialog=!1,this._dialogClass="ui-timepicker-dialog",this._mainDivId="ui-timepicker-div",this._inlineClass="ui-timepicker-inline",this._currentClass="ui-timepicker-current",this._dayOverClass="ui-timepicker-days-cell-over",this.regional=[],this.regional[""]={hourText:"Hour",minuteText:"Minute",amPmText:["AM","PM"],closeButtonText:"Done",nowButtonText:"Now",deselectButtonText:"Deselect"},this._defaults={showOn:"focus",button:null,showAnim:"fadeIn",showOptions:{},appendText:"",beforeShow:null,onSelect:null,onClose:null,timeSeparator:":",periodSeparator:" ",showPeriod:!1,showPeriodLabels:!0,showLeadingZero:!0,showMinutesLeadingZero:!0,altField:"",defaultTime:"now",myPosition:"left top",atPosition:"left bottom",onHourShow:null,onMinuteShow:null,hours:{starts:0,ends:23},minutes:{starts:0,ends:55,interval:5},rows:4,showHours:!0,showMinutes:!0,optionalMinutes:!1,showCloseButton:!1,showNowButton:!1,showDeselectButton:!1},n.extend(this._defaults,this.regional[""]),this.tpDiv=n('<div id="'+this._mainDivId+'" class="ui-timepicker ui-widget ui-helper-clearfix ui-corner-all " style="display: none"><\/div>')}function i(t,i){n.extend(t,i);for(var r in i)(i[r]==null||i[r]==undefined)&&(t[r]=i[r]);return t}n.extend(n.ui,{timepicker:{version:"0.3.1"}});var t="timepicker",u=(new Date).getTime();n.extend(r.prototype,{markerClassName:"hasTimepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetTimepicker:function(){return this.tpDiv},setDefaults:function(n){return i(this._defaults,n||{}),this},_attachTimepicker:function(t,i){var r=null,f,e,o,s,u;for(f in this._defaults)if(e=t.getAttribute("time:"+f),e){r=r||{};try{r[f]=eval(e)}catch(h){r[f]=e}}o=t.nodeName.toLowerCase(),s=o=="div"||o=="span",t.id||(this.uuid+=1,t.id="tp"+this.uuid),u=this._newInst(n(t),s),u.settings=n.extend({},i||{},r||{}),o=="input"?(this._connectTimepicker(t,u),this._setTimeFromField(u)):s&&this._inlineTimepicker(t,u)},_newInst:function(t,i){var r=t[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:r,input:t,inline:i,tpDiv:i?n('<div class="'+this._inlineClass+' ui-timepicker ui-widget  ui-helper-clearfix"><\/div>'):this.tpDiv}},_connectTimepicker:function(i,r){var u=n(i);(r.append=n([]),r.trigger=n([]),u.hasClass(this.markerClassName))||(this._attachments(u,r),u.addClass(this.markerClassName).keydown(this._doKeyDown).keyup(this._doKeyUp).bind("setData.timepicker",function(n,t,i){r.settings[t]=i}).bind("getData.timepicker",function(n,t){return this._get(r,t)}),n.data(i,t,r))},_doKeyDown:function(t){var r=n.timepicker._getInst(t.target),i=!0;if(r._keyEvent=!0,n.timepicker._timepickerShowing)switch(t.keyCode){case 9:n.timepicker._hideTimepicker(),i=!1;break;case 13:return n.timepicker._updateSelectedValue(r),n.timepicker._hideTimepicker(),!1;case 27:n.timepicker._hideTimepicker();break;default:i=!1}else t.keyCode==36&&t.ctrlKey?n.timepicker._showTimepicker(this):i=!1;i&&(t.preventDefault(),t.stopPropagation())},_doKeyUp:function(t){var i=n.timepicker._getInst(t.target);n.timepicker._setTimeFromField(i),n.timepicker._updateTimepicker(i)},_attachments:function(t,i){var u=this._get(i,"appendText"),e=this._get(i,"isRTL"),r,f;i.append&&i.append.remove(),u&&(i.append=n('<span class="'+this._appendClass+'">'+u+"<\/span>"),t[e?"before":"after"](i.append)),t.unbind("focus.timepicker",this._showTimepicker),t.unbind("click.timepicker",this._adjustZIndex),i.trigger&&i.trigger.remove(),r=this._get(i,"showOn"),(r=="focus"||r=="both")&&(t.bind("focus.timepicker",this._showTimepicker),t.bind("click.timepicker",this._adjustZIndex)),(r=="button"||r=="both")&&(f=this._get(i,"button"),n(f).bind("click.timepicker",function(){return n.timepicker._timepickerShowing&&n.timepicker._lastInput==t[0]?n.timepicker._hideTimepicker():i.input.is(":disabled")||n.timepicker._showTimepicker(t[0]),!1}))},_inlineTimepicker:function(i,r){var u=n(i);u.hasClass(this.markerClassName)||(u.addClass(this.markerClassName).append(r.tpDiv).bind("setData.timepicker",function(n,t,i){r.settings[t]=i}).bind("getData.timepicker",function(n,t){return this._get(r,t)}),n.data(i,t,r),this._setTimeFromField(r),this._updateTimepicker(r),r.tpDiv.show())},_adjustZIndex:function(t){t=t.target||t;var i=n.timepicker._getInst(t);i.tpDiv.css("zIndex",n.timepicker._getZIndex(t)+1)},_showTimepicker:function(t){var r,o,f,u;if((t=t.target||t,t.nodeName.toLowerCase()!="input"&&(t=n("input",t.parentNode)[0]),!n.timepicker._isDisabledTimepicker(t)&&n.timepicker._lastInput!=t)&&(n.timepicker._hideTimepicker(),r=n.timepicker._getInst(t),n.timepicker._curInst&&n.timepicker._curInst!=r&&n.timepicker._curInst.tpDiv.stop(!0,!0),o=n.timepicker._get(r,"beforeShow"),i(r.settings,o?o.apply(t,[t,r]):{}),r.lastVal=null,n.timepicker._lastInput=t,n.timepicker._setTimeFromField(r),n.timepicker._inDialog&&(t.value=""),n.timepicker._pos||(n.timepicker._pos=n.timepicker._findPos(t),n.timepicker._pos[1]+=t.offsetHeight),f=!1,n(t).parents().each(function(){return f|=n(this).css("position")=="fixed",!f}),f&&n.browser.opera&&(n.timepicker._pos[0]-=document.documentElement.scrollLeft,n.timepicker._pos[1]-=document.documentElement.scrollTop),u={left:n.timepicker._pos[0],top:n.timepicker._pos[1]},n.timepicker._pos=null,r.tpDiv.css({position:"absolute",display:"block",top:"-1000px"}),n.timepicker._updateTimepicker(r),r.inline||typeof n.ui.position!="object"||(r.tpDiv.position({of:r.input,my:n.timepicker._get(r,"myPosition"),at:n.timepicker._get(r,"atPosition"),collision:"flip"}),u=r.tpDiv.offset(),n.timepicker._pos=[u.top,u.left]),r._hoursClicked=!1,r._minutesClicked=!1,u=n.timepicker._checkOffset(r,u,f),r.tpDiv.css({position:n.timepicker._inDialog&&n.blockUI?"static":f?"fixed":"absolute",display:"none",left:u.left+"px",top:u.top+"px"}),!r.inline)){var e=n.timepicker._get(r,"showAnim"),s=n.timepicker._get(r,"duration"),h=function(){n.timepicker._timepickerShowing=!0;var t=n.timepicker._getBorders(r.tpDiv);r.tpDiv.find("iframe.ui-timepicker-cover").css({left:-t[0],top:-t[1],width:r.tpDiv.outerWidth(),height:r.tpDiv.outerHeight()})};n.timepicker._adjustZIndex(t),n.effects&&n.effects[e]?r.tpDiv.show(e,n.timepicker._get(r,"showOptions"),s,h):r.tpDiv[e||"show"](e?s:null,h),e&&s||h(),r.input.is(":visible")&&!r.input.is(":disabled")&&r.input.focus(),n.timepicker._curInst=r}},_getZIndex:function(t){for(var i=n(t),r,u;i.length&&i[0]!==document;){if(r=i.css("position"),(r==="absolute"||r==="relative"||r==="fixed")&&(u=parseInt(i.css("zIndex"),10),!isNaN(u)&&u!==0))return u;i=i.parent()}},_refreshTimepicker:function(n){var t=this._getInst(n);t&&this._updateTimepicker(t)},_updateTimepicker:function(n){n.tpDiv.empty().append(this._generateHTML(n)),this._rebindDialogEvents(n)},_rebindDialogEvents:function(t){var i=n.timepicker._getBorders(t.tpDiv),r=this;t.tpDiv.find("iframe.ui-timepicker-cover").css({left:-i[0],top:-i[1],width:t.tpDiv.outerWidth(),height:t.tpDiv.outerHeight()}).end().find(".ui-timepicker-minute-cell").unbind().bind("click",{fromDoubleClick:!1},n.proxy(n.timepicker.selectMinutes,this)).bind("dblclick",{fromDoubleClick:!0},n.proxy(n.timepicker.selectMinutes,this)).end().find(".ui-timepicker-hour-cell").unbind().bind("click",{fromDoubleClick:!1},n.proxy(n.timepicker.selectHours,this)).bind("dblclick",{fromDoubleClick:!0},n.proxy(n.timepicker.selectHours,this)).end().find(".ui-timepicker td a").unbind().bind("mouseout",function(){n(this).removeClass("ui-state-hover"),this.className.indexOf("ui-timepicker-prev")!=-1&&n(this).removeClass("ui-timepicker-prev-hover"),this.className.indexOf("ui-timepicker-next")!=-1&&n(this).removeClass("ui-timepicker-next-hover")}).bind("mouseover",function(){r._isDisabledTimepicker(t.inline?t.tpDiv.parent()[0]:t.input[0])||(n(this).parents(".ui-timepicker-calendar").find("a").removeClass("ui-state-hover"),n(this).addClass("ui-state-hover"),this.className.indexOf("ui-timepicker-prev")!=-1&&n(this).addClass("ui-timepicker-prev-hover"),this.className.indexOf("ui-timepicker-next")!=-1&&n(this).addClass("ui-timepicker-next-hover"))}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end().find(".ui-timepicker-now").bind("click",function(t){n.timepicker.selectNow(t)}).end().find(".ui-timepicker-deselect").bind("click",function(t){n.timepicker.deselectTime(t)}).end().find(".ui-timepicker-close").bind("click",function(){n.timepicker._hideTimepicker()}).end()},_generateHTML:function(t){for(var o,y,i,b=this._get(t,"showPeriod")==!0,v=this._get(t,"showPeriodLabels")==!0,k=this._get(t,"showLeadingZero")==!0,ut=this._get(t,"showHours")==!0,ft=this._get(t,"showMinutes")==!0,d=this._get(t,"amPmText"),s=this._get(t,"rows"),r=0,e=0,h=0,c=0,g=0,p=0,u=Array(),nt=this._get(t,"hours"),w=null,f=0,et=this._get(t,"hourText"),tt=this._get(t,"showCloseButton"),ot=this._get(t,"closeButtonText"),it=this._get(t,"showNowButton"),st=this._get(t,"nowButtonText"),rt=this._get(t,"showDeselectButton"),ht=this._get(t,"deselectButtonText"),ct=tt||it||rt,l,a=nt.starts;a<=nt.ends;a++)u.push(a);if(w=Math.ceil(u.length/s),v){for(f=0;f<u.length;f++)u[f]<12?h++:c++;f=0,r=Math.floor(h/u.length*s),e=Math.floor(c/u.length*s),s!=r+e&&(h&&(!c||!r||e&&h/r>=c/e)?r++:e++),g=Math.min(r,1),p=r+1,w=Math.ceil(Math.max(h/r,c/e))}if(i='<table class="ui-timepicker-table ui-widget-content ui-corner-all"><tr>',ut){for(i+='<td class="ui-timepicker-hours"><div class="ui-timepicker-title ui-widget-header ui-helper-clearfix ui-corner-all">'+et+'<\/div><table class="ui-timepicker">',o=1;o<=s;o++){for(i+="<tr>",o==g&&v&&(i+='<th rowspan="'+r.toString()+'" class="periods" scope="row">'+d[0]+"<\/th>"),o==p&&v&&(i+='<th rowspan="'+e.toString()+'" class="periods" scope="row">'+d[1]+"<\/th>"),y=1;y<=w;y++)v&&o<p&&u[f]>=12?i+=this._generateHTMLHourCell(t,undefined,b,k):(i+=this._generateHTMLHourCell(t,u[f],b,k),f++);i+="<\/tr>"}i+="<\/tr><\/table><\/td>"}return ft&&(i+='<td class="ui-timepicker-minutes">',i+=this._generateHTMLMinutes(t),i+="<\/td>"),i+="<\/tr>",ct&&(l='<tr><td colspan="3"><div class="ui-timepicker-buttonpane ui-widget-content">',it&&(l+='<button type="button" class="ui-timepicker-now ui-state-default ui-corner-all"  data-timepicker-instance-id="#'+t.id.replace(/\\\\/g,"\\")+'" >'+st+"<\/button>"),rt&&(l+='<button type="button" class="ui-timepicker-deselect ui-state-default ui-corner-all"  data-timepicker-instance-id="#'+t.id.replace(/\\\\/g,"\\")+'" >'+ht+"<\/button>"),tt&&(l+='<button type="button" class="ui-timepicker-close ui-state-default ui-corner-all"  data-timepicker-instance-id="#'+t.id.replace(/\\\\/g,"\\")+'" >'+ot+"<\/button>"),i+=l+"<\/div><\/td><\/tr>"),i+="<\/table>",i+(n.browser.msie&&parseInt(n.browser.version,10)<7&&!t.inline?'<iframe src="javascript:false;" class="ui-timepicker-cover" frameborder="0"><\/iframe>':"")},_updateMinuteDisplay:function(n){var t=this._generateHTMLMinutes(n);n.tpDiv.find("td.ui-timepicker-minutes").html(t),this._rebindDialogEvents(n)},_generateHTMLMinutes:function(n){var e,u="",h=this._get(n,"rows"),f=Array(),r=this._get(n,"minutes"),c=null,i=0,l=this._get(n,"showMinutesLeadingZero")==!0,o=this._get(n,"onMinuteShow"),a=this._get(n,"minuteText"),t,s;for(r.starts||(r.starts=0),r.ends||(r.ends=59),t=r.starts;t<=r.ends;t+=r.interval)f.push(t);if(c=Math.round(f.length/h+.49),o&&o.apply(n.input?n.input[0]:null,[n.hours,n.minutes])==!1)for(i=0;i<f.length;i+=1)if(t=f[i],o.apply(n.input?n.input[0]:null,[n.hours,t])){n.minutes=t;break}for(u+='<div class="ui-timepicker-title ui-widget-header ui-helper-clearfix ui-corner-all">'+a+'<\/div><table class="ui-timepicker">',i=0,e=1;e<=h;e++){for(u+="<tr>";i<e*c;)t=f[i],s="",t!==undefined&&(s=t<10&&l?"0"+t.toString():t.toString()),u+=this._generateHTMLMinuteCell(n,t,s),i++;u+="<\/tr>"}return u+"<\/table>"},_generateHTMLHourCell:function(n,t,i,r){var u=t;t>12&&i&&(u=t-12),u==0&&i&&(u=12),u<10&&r&&(u="0"+u);var f=!0,e=this._get(n,"onHourShow");return t==undefined?'<td><span class="ui-state-default ui-state-disabled">&nbsp;<\/span><\/td>':(e&&(f=e.apply(n.input?n.input[0]:null,[t])),f?'<td class="ui-timepicker-hour-cell" data-timepicker-instance-id="#'+n.id.replace(/\\\\/g,"\\")+'" data-hour="'+t.toString()+'"><a class="ui-state-default '+(t==n.hours?"ui-state-active":"")+'">'+u.toString()+"<\/a><\/td>":'<td><span class="ui-state-default ui-state-disabled '+(t==n.hours?" ui-state-active ":" ")+'">'+u.toString()+"<\/span><\/td>")},_generateHTMLMinuteCell:function(n,t,i){var r=!0,u=this._get(n,"onMinuteShow");return(u&&(r=u.apply(n.input?n.input[0]:null,[n.hours,t])),t==undefined)?'<td><span class="ui-state-default ui-state-disabled">&nbsp;<\/span><\/td>':r?'<td class="ui-timepicker-minute-cell" data-timepicker-instance-id="#'+n.id.replace(/\\\\/g,"\\")+'" data-minute="'+t.toString()+'" ><a class="ui-state-default '+(t==n.minutes?"ui-state-active":"")+'" >'+i+"<\/a><\/td>":'<td><span class="ui-state-default ui-state-disabled" >'+i+"<\/span><\/td>"},_destroyTimepicker:function(i){var u=n(i),f=n.data(i,t),r;u.hasClass(this.markerClassName)&&(r=i.nodeName.toLowerCase(),n.removeData(i,t),r=="input"?(f.append.remove(),f.trigger.remove(),u.removeClass(this.markerClassName).unbind("focus.timepicker",this._showTimepicker).unbind("click.timepicker",this._adjustZIndex)):(r=="div"||r=="span")&&u.removeClass(this.markerClassName).empty())},_enableTimepicker:function(i){var u=n(i),s=u.attr("id"),e=n.data(i,t),r,o,f;u.hasClass(this.markerClassName)&&(r=i.nodeName.toLowerCase(),r=="input"?(i.disabled=!1,o=this._get(e,"button"),n(o).removeClass("ui-state-disabled").disabled=!1,e.trigger.filter("button").each(function(){this.disabled=!1}).end()):(r=="div"||r=="span")&&(f=u.children("."+this._inlineClass),f.children().removeClass("ui-state-disabled"),f.find("button").each(function(){this.disabled=!1})),this._disabledInputs=n.map(this._disabledInputs,function(n){return n==s?null:n}))},_disableTimepicker:function(i){var u=n(i),e=n.data(i,t),r,o,f;u.hasClass(this.markerClassName)&&(r=i.nodeName.toLowerCase(),r=="input"?(o=this._get(e,"button"),n(o).addClass("ui-state-disabled").disabled=!0,i.disabled=!0,e.trigger.filter("button").each(function(){this.disabled=!0}).end()):(r=="div"||r=="span")&&(f=u.children("."+this._inlineClass),f.children().addClass("ui-state-disabled"),f.find("button").each(function(){this.disabled=!0})),this._disabledInputs=n.map(this._disabledInputs,function(n){return n==i?null:n}),this._disabledInputs[this._disabledInputs.length]=u.attr("id"))},_isDisabledTimepicker:function(n){if(!n)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==n)return!0;return!1},_checkOffset:function(t,i,r){var u=t.tpDiv.outerWidth(),f=t.tpDiv.outerHeight(),h=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,e=document.documentElement.clientWidth+n(document).scrollLeft(),s=document.documentElement.clientHeight+n(document).scrollTop();return i.left-=this._get(t,"isRTL")?u-h:0,i.left-=r&&i.left==t.input.offset().left?n(document).scrollLeft():0,i.top-=r&&i.top==t.input.offset().top+o?n(document).scrollTop():0,i.left-=Math.min(i.left,i.left+u>e&&e>u?Math.abs(i.left+u-e):0),i.top-=Math.min(i.top,i.top+f>s&&s>f?Math.abs(f+o):0),i},_findPos:function(t){for(var r=this._getInst(t),u=this._get(r,"isRTL"),i;t&&(t.type=="hidden"||t.nodeType!=1);)t=t[u?"previousSibling":"nextSibling"];return i=n(t).offset(),[i.left,i.top]},_getBorders:function(n){var t=function(n){return{thin:1,medium:2,thick:3}[n]||n};return[parseFloat(t(n.css("border-left-width"))),parseFloat(t(n.css("border-top-width")))]},_checkExternalClick:function(t){if(n.timepicker._curInst){var i=n(t.target);i[0].id==n.timepicker._mainDivId||i.parents("#"+n.timepicker._mainDivId).length!=0||i.hasClass(n.timepicker.markerClassName)||i.hasClass(n.timepicker._triggerClass)||!n.timepicker._timepickerShowing||n.timepicker._inDialog&&n.blockUI||n.timepicker._hideTimepicker()}},_hideTimepicker:function(i){var r=this._curInst,e;if(r&&(!i||r==n.data(i,t))&&this._timepickerShowing){var u=this._get(r,"showAnim"),o=this._get(r,"duration"),f=function(){n.timepicker._tidyDialog(r),this._curInst=null};n.effects&&n.effects[u]?r.tpDiv.hide(u,n.timepicker._get(r,"showOptions"),o,f):r.tpDiv[u=="slideDown"?"slideUp":u=="fadeIn"?"fadeOut":"hide"](u?o:null,f),u||f(),this._timepickerShowing=!1,this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),n.blockUI&&(n.unblockUI(),n("body").append(this.tpDiv))),this._inDialog=!1,e=this._get(r,"onClose"),e&&e.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r])}},_tidyDialog:function(n){n.tpDiv.removeClass(this._dialogClass).unbind(".ui-timepicker")},_getInst:function(i){try{return n.data(i,t)}catch(r){throw"Missing instance data for this timepicker";}},_get:function(n,t){return n.settings[t]!==undefined?n.settings[t]:this._defaults[t]},_setTimeFromField:function(t){var r,i,f,u;t.input.val()!=t.lastVal&&(r=this._get(t,"defaultTime"),i=r=="now"?this._getCurrentTimeRounded(t):r,t.inline==!1&&t.input.val()!=""&&(i=t.input.val()),i instanceof Date?(t.hours=i.getHours(),t.minutes=i.getMinutes()):(f=t.lastVal=i,i==""?(t.hours=-1,t.minutes=-1):(u=this.parseTime(t,f),t.hours=u.hours,t.minutes=u.minutes)),n.timepicker._updateTimepicker(t))},_optionTimepicker:function(t,r,u){var f=this._getInst(t),e;if(arguments.length==2&&typeof r=="string")return r=="defaults"?n.extend({},n.timepicker._defaults):f?r=="all"?n.extend({},f.settings):this._get(f,r):null;e=r||{},typeof r=="string"&&(e={},e[r]=u),f&&(this._curInst==f&&this._hideTimepicker(),i(f.settings,e),this._updateTimepicker(f))},_setTimeTimepicker:function(n,t){var i=this._getInst(n);i&&(this._setTime(i,t),this._updateTimepicker(i),this._updateAlternate(i,t))},_setTime:function(n,t,i){var r=n.hours,u=n.minutes,t=this.parseTime(n,t);n.hours=t.hours,n.minutes=t.minutes,r==n.hours&&u==n.minuts||i||n.input.trigger("change"),this._updateTimepicker(n),this._updateSelectedValue(n)},_getCurrentTimeRounded:function(){var n=new Date,t=n.getMinutes(),i=Math.round(t/5)*5;return n.setMinutes(i),n},parseTime:function(n,t){var i={},f;i.hours=-1,i.minutes=-1;var h=this._get(n,"timeSeparator"),e=this._get(n,"amPmText"),r=this._get(n,"showHours"),o=this._get(n,"showMinutes"),c=this._get(n,"optionalMinutes"),s=this._get(n,"showPeriod")==!0,u=t.indexOf(h);return u!=-1?(i.hours=parseInt(t.substr(0,u),10),i.minutes=parseInt(t.substr(u+1),10)):r&&(!o||c)?i.hours=parseInt(t,10):!r&&o&&(i.minutes=parseInt(t,10)),r&&(f=t.toUpperCase(),i.hours<12&&s&&f.indexOf(e[1].toUpperCase())!=-1&&(i.hours+=12),i.hours==12&&s&&f.indexOf(e[0].toUpperCase())!=-1&&(i.hours=0)),i},selectNow:function(t){var u=n(t.target).attr("data-timepicker-instance-id"),f=n(u),i=this._getInst(f[0]),r=new Date;i.hours=r.getHours(),i.minutes=r.getMinutes(),this._updateSelectedValue(i),this._updateTimepicker(i),this._hideTimepicker()},deselectTime:function(t){var r=n(t.target).attr("data-timepicker-instance-id"),u=n(r),i=this._getInst(u[0]);i.hours=-1,i.minutes=-1,this._updateSelectedValue(i),this._hideTimepicker()},selectHours:function(t){var r=n(t.currentTarget),e=r.attr("data-timepicker-instance-id"),o=parseInt(r.attr("data-hour")),s=t.data.fromDoubleClick,u=n(e),i=this._getInst(u[0]),h=this._get(i,"showMinutes")==!0,f;return n.timepicker._isDisabledTimepicker(u.attr("id"))?!1:(r.parents(".ui-timepicker-hours:first").find("a").removeClass("ui-state-active"),r.children("a").addClass("ui-state-active"),i.hours=o,f=this._get(i,"onMinuteShow"),f&&this._updateMinuteDisplay(i),this._updateSelectedValue(i),i._hoursClicked=!0,(i._minutesClicked||s||h==!1)&&n.timepicker._hideTimepicker(),!1)},selectMinutes:function(t){var r=n(t.currentTarget),f=r.attr("data-timepicker-instance-id"),e=parseInt(r.attr("data-minute")),o=t.data.fromDoubleClick,u=n(f),i=this._getInst(u[0]),s=this._get(i,"showHours")==!0;return n.timepicker._isDisabledTimepicker(u.attr("id"))?!1:(r.parents(".ui-timepicker-minutes:first").find("a").removeClass("ui-state-active"),r.children("a").addClass("ui-state-active"),i.minutes=e,this._updateSelectedValue(i),i._minutesClicked=!0,i._hoursClicked||o||s==!1)?(n.timepicker._hideTimepicker(),!1):!1},_updateSelectedValue:function(n){var t=this._getParsedTime(n),i;return n.input&&(n.input.val(t),n.input.trigger("change")),i=this._get(n,"onSelect"),i&&i.apply(n.input?n.input[0]:null,[t,n]),this._updateAlternate(n,t),t},_getParsedTime:function(n){var f,t;if(n.hours==-1&&n.minutes==-1)return"";(n.hours<n.hours.starts||n.hours>n.hours.ends)&&(n.hours=0),(n.minutes<n.minutes.starts||n.minutes>n.minutes.ends)&&(n.minutes=0);var u="",a=this._get(n,"showPeriod")==!0,v=this._get(n,"showLeadingZero")==!0,e=this._get(n,"showHours")==!0,o=this._get(n,"showMinutes")==!0,s=this._get(n,"optionalMinutes")==!0,h=this._get(n,"amPmText"),c=n.hours?n.hours:0,l=n.minutes?n.minutes:0,i=c?c:0,r="";return a&&(n.hours==0&&(i=12),n.hours<12?u=h[0]:(u=h[1],i>12&&(i-=12))),f=i.toString(),v&&i<10&&(f="0"+f),t=l.toString(),l<10&&(t="0"+t),e&&(r+=f),e&&o&&(!s||t!=0)&&(r+=this._get(n,"timeSeparator")),o&&(!s||t!=0)&&(r+=t),e&&u.length>0&&(r+=this._get(n,"periodSeparator")+u),r},_updateAlternate:function(t,i){var r=this._get(t,"altField");r&&n(r).each(function(t,r){n(r).val(i)})},_getTimeTimepicker:function(n){var t=this._getInst(n);return this._getParsedTime(t)},_getHourTimepicker:function(n){var t=this._getInst(n);return t==undefined?-1:t.hours},_getMinuteTimepicker:function(n){var t=this._getInst(n);return t==undefined?-1:t.minutes}}),n.fn.timepicker=function(t){n.timepicker.initialized||(n(document).mousedown(n.timepicker._checkExternalClick).find("body").append(n.timepicker.tpDiv),n.timepicker.initialized=!0);var i=Array.prototype.slice.call(arguments,1);return typeof t=="string"&&(t=="getTime"||t=="getHour"||t=="getMinute")?n.timepicker["_"+t+"Timepicker"].apply(n.timepicker,[this[0]].concat(i)):t=="option"&&arguments.length==2&&typeof arguments[1]=="string"?n.timepicker["_"+t+"Timepicker"].apply(n.timepicker,[this[0]].concat(i)):this.each(function(){typeof t=="string"?n.timepicker["_"+t+"Timepicker"].apply(n.timepicker,[this].concat(i)):n.timepicker._attachTimepicker(this,t)})},n.timepicker=new r,n.timepicker.initialized=!1,n.timepicker.uuid=(new Date).getTime(),n.timepicker.version="0.3.1",window["TP_jQuery_"+u]=n})(jQuery)